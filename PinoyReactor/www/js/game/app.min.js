function start(){player1Score=0,player2Score=0,countdown=3e3,questionsTotal=20,questionsCount=0,totalCount=0,perSet=5,questionsTotal=20,perSet=5,keys=Object.keys(questionSets),length=keys.length,position=Math.floor(Math.random()*length),newPosition=null,setName=keys[position],playSet=questionSets[setName][0],setInstructions=questionSets[setName][1],questionKey=null,answer=null,console.log(setName),console.log(playSet),next(setName,playSet,setInstructions)}function next(t,e,o){console.log("next"),questionKey=Object.keys(e)[Math.floor(Math.random()*Object.keys(e).length)],answer=e[questionKey],"Pares Pares"==t?($("#pares-center").show(),$("#pares-center").html(questionKey)):($("#pares-center").hide(),$("p[id=game-text]").html(questionKey)),$(".countdown-element").css("height","100%"),$(".game-buttons").css("background-color","#333"),$(".game-buttons").css("color","#DDD"),$(".game-buttons").html(t+"<br><span style='font-size:16px; color:white; text-transform: none; font-weight: normal;'>"+o+"</span>"),$(".game-buttons").removeAttr("disabled"),count(t,e,o)}function count(t,e,o){questionsCount++,totalCount++,console.log(questionsTotal+" : "+totalCount+" / "+perSet+" : "+questionsCount),totalCount<=questionsTotal?totalCount<questionsTotal&&questionsCount-1==perSet?(console.log("set count reached, begin shuffle"),$(".countdown-element").stop(),questionsCount=0,totalCount--,console.log("reset counting:\n"+questionsTotal+" : "+totalCount+" / "+perSet+" : "+questionsCount),$(".game-buttons").attr("disabled",!0),shuffle()):$(".countdown-element").animate({height:"0px"},countdown,function(){next(t,e,o)}):($(".countdown-element").stop(),player1Score>player2Score?(console.log("player1 Wins"),$("#pares-center").html(""),$("p[id=game-text]").html("<h2 onclick='openMainmenu();'>GAME FINISHED!</h2><p onclick='openMainmenu();>Tap here to open Menu</p>"),$("#button-1").css("background-color","#4CAF50"),$("#button-1").css("color","#FFF"),$("#button-2").css("color","#DDD"),$("#button-1").html("You Win!"),$("#button-2").html("You Lose!"),$(".game-buttons").attr("disabled",!0)):player2Score>player1Score?(console.log("player2Wins"),$("#pares-center").html(""),$("p[id=game-text]").html("<h2 onclick='openMainmenu();'>GAME FINISHED!</h2><p onclick='openMainmenu();>Tap here to open Menu</p>"),$("#button-2").css("background-color","#4CAF50"),$("#button-2").css("color","#FFF"),$("#button-1").css("color","#DDD"),$("#button-1").html("You Lose!"),$("#button-2").html("You Win!"),$(".game-buttons").attr("disabled",!0)):player1Score==player1Score&&(console.log("Draw"),$("#pares-center").html(""),$("p[id=game-text]").html("<h2 onclick='openMainmenu();'>GAME FINISHED!</h2><p onclick='openMainmenu();>Tap here to open Menu</p>"),$(".game-buttons").css("background-color","#2196F3"),$(".game-buttons").css("color","#FFF"),$(".game-buttons").html("DRAW!"),$(".game-buttons").attr("disabled",!0)))}function shuffle(){$(".countdown-element").stop(),newPosition=Math.floor(Math.random()*length),console.log("newPos: "+newPosition),newPosition==position?(console.log(newPosition+" = "+position+" <- match with previous, selecting new random position"),shuffle()):(setName=keys[newPosition],playSet=questionSets[setName][0],setInstructions=questionSets[setName][1],console.log("no match, selected "+setName),$("p[id=game-text]").html("<h2>"+setName+"</h2>"),$(".game-buttons").html("<h2>Next Round!</h2>"),setTimeout(function(){next(setName,playSet,setInstructions)},countdown))}function reset(){$(".game-buttons").css("background-color","#333"),$(".game-buttons").css("color","#DDD"),$(".game-buttons").html("Tap if correct"),$("#player-1-score").html(0),$("#player-2-score").html(0),$(".game-buttons").removeAttr("disabled"),$(".countdown-element").stop(),$(".countdown-element").css("height","100%"),player1Score=0,player2Score=0,countdown=5e3,questionsTotal=10,perSet=5,start()}function openMainmenu(){$("#startMenu").modal("show"),$("body").css("padding-right","0px"),$("#startMenu").css("padding-right","0px")}function openAboutmenu(){$("#aboutMenu").modal("show"),$("body").css("padding-right","0px"),$("#aboutMenu").css("padding-right","0px")}player1Score=0,player2Score=0,countdown=3e3,questionsTotal=20,questionsCount=0,totalCount=0,perSet=5;var keys,length,position,newPosition,setName,playSet,questionKey,answer;$("#button-1").on("tap",function(){answer?(player1Score++,$(this).css("background-color","#4CAF50"),$(this).css("color","#FFF"),$(this).html("CORRECT!"),$("#button-2").html("Better luck next time!"),$("#player-1-score").html(player1Score),$(".game-buttons").attr("disabled",!0)):(player1Score--,$(this).css("background-color","red"),$(this).css("color","#FFF"),$(this).html("WRONG!"),$("#player-1-score").html(player1Score),$(this).attr("disabled",!0))}),$("#button-2").on("tap",function(){answer?(player2Score++,$(this).css("background-color","#4CAF50"),$(this).css("color","#FFF"),$(this).html("CORRECT!"),$("#button-1").html("Better luck next time!"),$("#player-2-score").html(player2Score),$(".game-buttons").attr("disabled",!0)):(player2Score--,$(this).css("background-color","red"),$(this).css("color","#FFF"),$(this).html("WRONG!"),$("#player-2-score").html(player2Score),$(this).attr("disabled",!0))}),$(window).load(function(){openMainmenu()}),$(window).on("navigate",function(t,e){var o=e.state.direction;"back"==o&&(alert("back"),$("#menuStartBtn").hide(),$("#startMenu").modal("show"),$("body").css("padding-right","0px"),$("#startMenu").css("padding-right","0px"),$("#startMenu").css("margin-top","50%")),"forward"==o&&($("#menuStartBtn").hide(),$("#startMenu").modal("show"),$("body").css("padding-right","0px"),$("#startMenu").css("padding-right","0px"),$("#startMenu").css("margin-top","50%"))}),$(document).ready(function(){document.addEventListener("touchmove",function(t){t.preventDefault()},!1)});